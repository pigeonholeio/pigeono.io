---
template: main.html 
title: Security Architecture
---

# High Level Architecture Design

![High Level Architecture](./assets/images/arch.png){ align=center }


# Authentication
PigeonHole does not store any username/passwords for authentication by design. From the very beginning PigeonHole requires you to authenticate through a third-party Identity Provider like Microsoft (Azure) and Google.

# Secret Multi-factor Authentication (MFA)
PigeonHole adds MFA on at a secret level. This means when you share a secret with a recipient, you can enable the secret to challenge for an MFA code before it is downloaded by the client.

This is achieved through the industry-standard TOTP algorithm.

# Data Encryption
All data is encrypted on the sender's workstation and only decrypted at the recipient's workstation.

# Data Integrity
OpenPGP checksums and signatures are created prior to encrypting and verified at the recipient's workstation once retrieved and decrypted.
Should the integrity fail the files would be shredded and the download process retried.

# Secure Secret Shredding
Secrets can be require the file to irretrievable (even through data recovery techniques), the file shredding feature will first write randomly-generated bytes at a block level then delete the file.

# Client-Side File Encryption

By default, encryption and decryption of data always happens on the user device. This is enforced by OpenGPG and GnuPG libraries.

Behind the scenes PigeonHole uses the [OpenPGP library](https://github.com/ProtonMail/gopenpgp) maintained by ProtonMail to achieve secret sharing you can trust - there is never and cannot be any man-in-the-middle!

OpenPGP is built on Asymmetric encryption. Find out how [Asymmetric Encryption] keeps your data secret.

File encryption and decryption happens within the sender/recipient's command-line.

A small caveat is with the use of [Transient Keys](./transient-keys.md).


    [Asymmetric Encryption] 